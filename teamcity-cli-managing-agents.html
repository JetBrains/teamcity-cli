<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2026-02-24T13:16:39.12559"><title>Managing Agents | TeamCity CLI</title><script type="application/json" id="virtual-toc-data">[{"id":"listing-agents","level":0,"title":"Listing agents","anchor":"#listing-agents"},{"id":"filtering","level":1,"title":"Filtering","anchor":"#filtering"},{"id":"agent-list-flags","level":1,"title":"agent list flags","anchor":"#agent-list-flags"},{"id":"viewing-agent-details","level":0,"title":"Viewing agent details","anchor":"#viewing-agent-details"},{"id":"enabling-and-disabling-agents","level":0,"title":"Enabling and disabling agents","anchor":"#enabling-and-disabling-agents"},{"id":"authorizing-and-deauthorizing-agents","level":0,"title":"Authorizing and deauthorizing agents","anchor":"#authorizing-and-deauthorizing-agents"},{"id":"moving-agents-between-pools","level":0,"title":"Moving agents between pools","anchor":"#moving-agents-between-pools"},{"id":"viewing-compatible-jobs","level":0,"title":"Viewing compatible jobs","anchor":"#viewing-compatible-jobs"},{"id":"executing-remote-commands","level":0,"title":"Executing remote commands","anchor":"#executing-remote-commands"},{"id":"interactive-shell-sessions","level":0,"title":"Interactive shell sessions","anchor":"#interactive-shell-sessions"},{"id":"rebooting-agents","level":0,"title":"Rebooting agents","anchor":"#rebooting-agents"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.26.0-b913/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content="https://resources.jetbrains.com/storage/products/teamcity/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Managing Agents | TeamCity CLI"><meta property="og:description" content=""><meta property="og:image" content="https://resources.jetbrains.com/storage/products/teamcity/img/meta/preview.png"><meta property="og:site_name" content="TeamCity CLI Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/teamcity-cli-managing-agents.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Managing Agents | TeamCity CLI"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/teamcity/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/teamcity-cli-managing-agents.html#webpage",
    "url": "writerside-documentation/teamcity-cli-managing-agents.html",
    "name": "Managing Agents | TeamCity CLI",
    "description": "",
    "image": "https://resources.jetbrains.com/storage/products/teamcity/img/meta/preview.png",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "TeamCity CLI Help"
}</script><!-- End Schema.org --></head><body data-id="teamcity-cli-managing-agents" data-main-title="Managing Agents" data-article-props="{&quot;seeAlso&quot;:[{&quot;title&quot;:&quot;Reference&quot;,&quot;links&quot;:[{&quot;url&quot;:&quot;teamcity-cli-commands.html&quot;,&quot;text&quot;:&quot;Command reference&quot;,&quot;tooltip&quot;:&quot;This page provides a quick reference for all available TeamCity CLI commands. Each command group links to a detailed page with full descriptions, flags, and examples.&quot;,&quot;description&quot;:&quot;This page provides a quick reference for all available TeamCity CLI commands. Each command group links to a detailed page with full descriptions, flags, and examples.&quot;},{&quot;url&quot;:&quot;teamcity-cli-managing-agent-pools.html&quot;,&quot;text&quot;:&quot;Managing agent pools&quot;,&quot;tooltip&quot;:&quot;Agent pools group build agents and control which projects can use them. The teamcity pool command group lets you list pools, view pool details, and manage project-pool associations.&quot;,&quot;description&quot;:&quot;Agent pools group build agents and control which projects can use them. The teamcity pool command group lets you list pools, view pool details, and manage project-pool associations.&quot;}]},{&quot;title&quot;:&quot;User guide&quot;,&quot;links&quot;:[{&quot;url&quot;:&quot;teamcity-cli-managing-runs.html&quot;,&quot;text&quot;:&quot;Managing runs&quot;,&quot;tooltip&quot;:&quot;Runs represent build executions in TeamCity. The teamcity run command group lets you start builds, monitor them in real time, view logs and test results, manage artifacts, and organize runs with tags, comments, and pins.&quot;,&quot;description&quot;:&quot;Runs represent build executions in TeamCity. The teamcity run command group lets you start builds, monitor them in real time, view logs and test results, manage artifacts, and organize runs with tags, comments, and pins.&quot;},{&quot;url&quot;:&quot;teamcity-cli-managing-build-queue.html&quot;,&quot;text&quot;:&quot;Managing the build queue&quot;,&quot;tooltip&quot;:&quot;The build queue holds builds waiting to be assigned to an available agent. The teamcity queue command group lets you inspect queued builds, control their priority, approve builds that require manual approval, and remove builds from the queue.&quot;,&quot;description&quot;:&quot;The build queue holds builds waiting to be assigned to an available agent. The teamcity queue command group lets you inspect queued builds, control their priority, approve builds that require manual approval, and remove builds from the queue.&quot;}]}],&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="teamcity-cli.md|TeamCity CLI///User guide" data-edit-url="https://github.com/JetBrains/teamcity-cli/edit/main/docs/topics/teamcity-cli-managing-agents.md"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>TeamCity CLI  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="teamcity-cli-managing-agents" id="teamcity-cli-managing-agents.md">Managing Agents</h1><p id="-bbtar9_3">Build agents are machines that run your builds. The <code class="code" id="-bbtar9_14">teamcity agent</code> command group lets you list and inspect agents, enable or disable them, manage authorization, execute remote commands, open interactive shell sessions, and request reboots.</p><section class="chapter"><h2 id="listing-agents" data-toc="listing-agents">Listing agents</h2><p id="-bbtar9_15">View all registered build agents:</p><div class="code-block" data-lang="bash">
teamcity agent list
</div><figure data-theme="light" id="-bbtar9_17" width="1200"><img alt="Listing build agents" class="js-gif article__bordered-element--rounded" data-gif-src="images/agent-list.gif" width="1200" data-dark-gif-src="images/agent-list_dark.gif" style="width: 1200px;"></figure><section class="chapter"><h3 id="filtering" data-toc="filtering">Filtering</h3><div class="code-block" data-lang="bash">
# Only connected agents
teamcity agent list --connected

# Only enabled agents
teamcity agent list --enabled

# Only authorized agents
teamcity agent list --authorized

# Agents in a specific pool
teamcity agent list --pool Default

# Combine filters
teamcity agent list --connected --enabled --pool Default
</div><p id="-bbtar9_21">Limit results and output as JSON:</p><div class="code-block" data-lang="bash">
teamcity agent list --limit 20
teamcity agent list --json
teamcity agent list --json=id,name,connected,enabled,pool.name
</div></section><section class="chapter"><h3 id="agent-list-flags" data-toc="agent-list-flags">agent list flags</h3><div class="table-wrapper"><table class="wide" id="-bbtar9_23"><thead><tr class="ijRowHead" id="-bbtar9_24"><th id="-bbtar9_31"><p id="-bbtar9_33">Flag</p></th><th id="-bbtar9_32"><p id="-bbtar9_34">Description</p></th></tr></thead><tbody><tr id="-bbtar9_25"><td id="-bbtar9_35"><p id="-bbtar9_37"><code class="code" id="-bbtar9_38">--connected</code></p></td><td id="-bbtar9_36"><p id="-bbtar9_39">Show only connected agents</p></td></tr><tr id="-bbtar9_26"><td id="-bbtar9_40"><p id="-bbtar9_42"><code class="code" id="-bbtar9_43">--enabled</code></p></td><td id="-bbtar9_41"><p id="-bbtar9_44">Show only enabled agents</p></td></tr><tr id="-bbtar9_27"><td id="-bbtar9_45"><p id="-bbtar9_47"><code class="code" id="-bbtar9_48">--authorized</code></p></td><td id="-bbtar9_46"><p id="-bbtar9_49">Show only authorized agents</p></td></tr><tr id="-bbtar9_28"><td id="-bbtar9_50"><p id="-bbtar9_52"><code class="code" id="-bbtar9_53">-p</code>, <code class="code" id="-bbtar9_54">--pool</code></p></td><td id="-bbtar9_51"><p id="-bbtar9_55">Filter by agent pool name</p></td></tr><tr id="-bbtar9_29"><td id="-bbtar9_56"><p id="-bbtar9_58"><code class="code" id="-bbtar9_59">-n</code>, <code class="code" id="-bbtar9_60">--limit</code></p></td><td id="-bbtar9_57"><p id="-bbtar9_61">Maximum number of agents to display</p></td></tr><tr id="-bbtar9_30"><td id="-bbtar9_62"><p id="-bbtar9_64"><code class="code" id="-bbtar9_65">--json</code></p></td><td id="-bbtar9_63"><p id="-bbtar9_66">Output as JSON. Use <code class="code" id="-bbtar9_67">--json=</code> to list available fields, <code class="code" id="-bbtar9_68">--json=f1,f2</code> for specific fields.</p></td></tr></tbody></table></div></section></section><section class="chapter"><h2 id="viewing-agent-details" data-toc="viewing-agent-details">Viewing agent details</h2><p id="-bbtar9_69">View details of a specific agent by ID or name:</p><div class="code-block" data-lang="bash">
teamcity agent view 1
teamcity agent view Agent-Linux-01
teamcity agent view Agent-Linux-01 --web
teamcity agent view 1 --json
</div><figure data-theme="light" id="-bbtar9_71" width="1200"><img alt="Viewing agent details" class="js-gif article__bordered-element--rounded" data-gif-src="images/agent-view.gif" width="1200" data-dark-gif-src="images/agent-view_dark.gif" style="width: 1200px;"></figure></section><section class="chapter"><h2 id="enabling-and-disabling-agents" data-toc="enabling-and-disabling-agents">Enabling and disabling agents</h2><p id="-bbtar9_72">Disable an agent to prevent it from picking up new builds:</p><div class="code-block" data-lang="bash">
teamcity agent disable 1
teamcity agent disable Agent-Linux-01
</div><p id="-bbtar9_74">Enable an agent to allow it to run builds again:</p><div class="code-block" data-lang="bash">
teamcity agent enable 1
teamcity agent enable Agent-Linux-01
</div><aside class="prompt" data-type="note" data-title="" id="-bbtar9_76"><p id="-bbtar9_77">Disabling an agent does not stop builds that are already running on it. New builds will not be assigned to the agent until it is re-enabled.</p></aside></section><section class="chapter"><h2 id="authorizing-and-deauthorizing-agents" data-toc="authorizing-and-deauthorizing-agents">Authorizing and deauthorizing agents</h2><p id="-bbtar9_78">Authorize a newly connected agent to allow it to run builds:</p><div class="code-block" data-lang="bash">
teamcity agent authorize 1
teamcity agent authorize Agent-Linux-01
</div><p id="-bbtar9_80">Deauthorize an agent to revoke its permission to connect:</p><div class="code-block" data-lang="bash">
teamcity agent deauthorize 1
teamcity agent deauthorize Agent-Linux-01
</div><aside class="prompt" data-type="note" data-title="" id="-bbtar9_82"><p id="-bbtar9_83">An unauthorized agent can connect to the server but cannot run builds. You need to authorize it before it can be used.</p></aside></section><section class="chapter"><h2 id="moving-agents-between-pools" data-toc="moving-agents-between-pools">Moving agents between pools</h2><p id="-bbtar9_84">Move an agent to a different agent pool:</p><div class="code-block" data-lang="bash">
teamcity agent move 1 0
teamcity agent move Agent-Linux-01 2
</div><p id="-bbtar9_86">The first argument is the agent (by ID or name), and the second argument is the target pool ID.</p></section><section class="chapter"><h2 id="viewing-compatible-jobs" data-toc="viewing-compatible-jobs">Viewing compatible jobs</h2><p id="-bbtar9_87">List the build configurations that an agent can run:</p><div class="code-block" data-lang="bash">
teamcity agent jobs 1
teamcity agent jobs Agent-Linux-01
</div><p id="-bbtar9_89">Show incompatible jobs with the reasons why they cannot run on the agent:</p><div class="code-block" data-lang="bash">
teamcity agent jobs Agent-Linux-01 --incompatible
teamcity agent jobs 1 --json
</div><figure data-theme="light" id="-bbtar9_91" width="1200"><img alt="Viewing compatible and incompatible jobs" class="js-gif article__bordered-element--rounded" data-gif-src="images/agent-jobs.gif" width="1200" data-dark-gif-src="images/agent-jobs_dark.gif" style="width: 1200px;"></figure></section><section class="chapter"><h2 id="executing-remote-commands" data-toc="executing-remote-commands">Executing remote commands</h2><p id="-bbtar9_92">Run a command on a build agent and return the output:</p><div class="code-block" data-lang="bash">
teamcity agent exec 1 &quot;ls -la&quot;
teamcity agent exec Agent-Linux-01 &quot;cat /etc/os-release&quot;
</div><figure data-theme="light" id="-bbtar9_94" width="1200"><img alt="Executing remote commands on an agent" class="js-gif article__bordered-element--rounded" data-gif-src="images/agent-exec.gif" width="1200" data-dark-gif-src="images/agent-exec_dark.gif" style="width: 1200px;"></figure><p id="-bbtar9_95">Set a timeout for long-running commands:</p><div class="code-block" data-lang="bash">
teamcity agent exec Agent-Linux-01 --timeout 10m -- long-running-script.sh
</div><aside class="prompt" data-type="note" data-title="" id="-bbtar9_97"><p id="-bbtar9_98">Remote command execution requires appropriate permissions on the TeamCity server.</p></aside></section><section class="chapter"><h2 id="interactive-shell-sessions" data-toc="interactive-shell-sessions">Interactive shell sessions</h2><p id="-bbtar9_99">Open an interactive terminal session to a build agent:</p><div class="code-block" data-lang="bash">
teamcity agent term 1
teamcity agent term Agent-Linux-01
</div><p id="-bbtar9_101">This establishes a WebSocket connection to the agent and provides a shell where you can run commands directly on the agent machine. The session ends when you type <code class="code" id="-bbtar9_104">exit</code> or press <code class="code" id="-bbtar9_105">Ctrl+D</code>.</p><figure data-theme="light" id="-bbtar9_102" width="1200"><img alt="Interactive terminal session on an agent" class="js-gif article__bordered-element--rounded" data-gif-src="images/agent-term.gif" width="1200" data-dark-gif-src="images/agent-term_dark.gif" style="width: 1200px;"></figure><aside class="prompt" data-type="note" data-title="" id="-bbtar9_103"><p id="-bbtar9_106">The <code class="code" id="-bbtar9_107">agent term</code> command requires the build agent to support the terminal feature and the server to have it enabled.</p></aside></section><section class="chapter"><h2 id="rebooting-agents" data-toc="rebooting-agents">Rebooting agents</h2><p id="-bbtar9_108">Request a reboot of a build agent:</p><div class="code-block" data-lang="bash">
teamcity agent reboot 1
teamcity agent reboot Agent-Linux-01
</div><p id="-bbtar9_110">Wait for the current build to finish before rebooting:</p><div class="code-block" data-lang="bash">
teamcity agent reboot Agent-Linux-01 --after-build
</div><p id="-bbtar9_112">Skip the confirmation prompt:</p><div class="code-block" data-lang="bash">
teamcity agent reboot Agent-Linux-01 --yes
</div><aside class="prompt" data-type="warning" data-title="" id="-bbtar9_114"><p id="-bbtar9_115">Local agents (running on the same machine as the server) cannot be rebooted through this command.</p></aside></section><div class="last-modified">22 February 2026</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="teamcity-cli-managing-build-queue.html" class="navigation-links__prev">Managing the Build Queue</a><a href="teamcity-cli-managing-agent-pools.html" class="navigation-links__next">Managing Agent Pools</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.26.0-b913/app.js"></script></body></html>