# Test run log subcommand.

exec teamcity api /app/rest/builds?locator=count:1&fields=build(id) --raw --no-input
extract '"id":(\d+)' BUILD_ID

exec teamcity run log $BUILD_ID --no-input
stdout '.'
! stderr 'Error'

# --raw
exec teamcity run log $BUILD_ID --raw --no-input
stdout '.'
! stderr 'Error'

# --failed
exec teamcity run log $BUILD_ID --failed --no-input
! stderr 'Error'

# --job (by job ID â€” use Sandbox_Build which has stable completed builds)
exec teamcity run log --job Sandbox_Build --no-input
stdout '.'
! stderr 'Error'
